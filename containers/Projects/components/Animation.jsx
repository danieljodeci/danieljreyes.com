import React, {Component} from 'react'
import Anime from 'react-anime'

export default class Animation extends Component {
  shouldComponentUpdate(nextProps, nextState){
    // Prevent Anime from rerendering animation
    return false;
  }
  render(){
    return (
      <span>
        <p>TEST</p>
        <svg version="1.1" 
          xmlns="http://www.w3.org/2000/svg"  
          x="0px" 
          y="0px" 
          width="130px"
          height="130px"
          viewBox="-20 0 465.2 359.8"
        >

          <defs>
            <linearGradient id="MyGradient">
              <stop offset="5%" stopColor="#11998e" />
              <stop offset="95%" stopColor="#79e46d" />
            </linearGradient>
          </defs>

          <Anime easing="easeInOutSine"
            duration={1000}
            direction="reverse"
            complete={a => {
              if(a.direction == 'reverse') {
                a.direction = "normal"
              }else{
                a.direction = "reverse"
              }
              a.restart()
            }}
            delay={(el, index) => index * 400}
            strokeDashoffset={ (el) => {
              var pathLength = 0;
              if (el.getTotalLength) {
                pathLength = el.getTotalLength();
                el.setAttribute('stroke-dasharray', pathLength);
              }
              return [pathLength, 0];
              }}
            >
              <path className="path" d="M80.4,60.5l-0.3,299.3h172.8c2.8-0.2,6.9-0.5,11.8-1c15.9-1.6,29.6-3,43.7-7.3c8.9-2.7,28.6-9,45.8-26c8.3-8.1,13.4-16.1,15.5-19.7c3-5,7.3-12.3,10-22.7c2.1-8,2.3-14.4,2.7-25c0.3-7.2,0.4-10.8-0.2-15.5c-0.4-3.3-1.8-13.3-7.5-24.8c-3.9-7.8-8.1-13-9.3-14.5c-5.9-7.2-11.8-11.3-18.7-16.2c-6.5-4.6-9.7-6.9-13.3-8.2c-14.7-5.2-15.2-5.3-15.2-5.3c-1-0.2-3.3-0.7-3.3-1.6c-0.1-0.9,2.3-1.7,4.4-2.6c3.7-1.5,7-3.6,10.7-5.2c14.1-6.2,27.7-27.3,28.6-28.8c1.4-2.3,2.8-4.3,4.2-7.3c3.9-8.5,4.6-16.3,5-20.2c0.2-2.9,0.2-5.2,0.2-7c-0.2-14.4-0.3-23.9-3.2-34.3c-3.8-13.3-10.5-22.3-13.1-25.7c-17.6-23-43.7-30-56.7-33.4c-9.2-2.4-17.1-3.5-28.7-4.9c-13.7-1.7-25.3-2.4-33.6-2.6l-55.7,0.2"/>

              <path className="path" d="M80.9,280.8c2.9,1.3,6.8,2.9,11.7,4.3c6.9,2,12.3,2.6,16,3c4.1,0.4,9.6,1,17,0.5c9.6-0.7,16.6-2.8,18.8-3.5c2.1-0.7,8-2.6,15.2-6.7c8-4.5,10.4-7.5,24.2-17.8c4.1-3,7.4-5.4,9.3-6.8"/>

              <path className="path" d="M193.1,216c0,48.9,0,48.9,0,48.9h43c1.7-0.2,4.1-0.6,6.9-1.5c4.3-1.4,10.5-3.3,14.5-9c2.8-3.9,3.4-7.9,3.8-10.4c0.4-2.6,0.2-8.2-1.5-12.8c-1.6-4.4-3.7-5.4-5-6.6c-3.6-3.3-6.8-5.1-13.2-7.4c-2.7-0.9-5.7-1.1-7.2-1.5L193.1,216z"/>

              <path className="path" d="M260.8,235.1c2.3-0.1,5.5-0.1,9.2,0.2c3.4,0.3,8.6,1,15.2,3c9.8,3,10.5,5.2,24.2,11.2c7.7,3.3,11.6,5,17.7,6c3.7,0.6,9.4,1.5,16.5-0.2c5.8-1.3,9.9-3.8,12.2-5.2c6.1-3.8,9.8-8,12.7-11.3c2.6-3,5.9-7.4,8.8-13.3"/>

              <path className="path" d="M193.1,138.5V94.2l39.5,0c1.3,0.2,3.1,0.5,5.2,1c3.7,0.9,6.1,1.5,8.6,3.2c0.7,0.5,4,2.8,6.2,7.2c1.4,2.9,2,2.5,2.3,4.8c0.2,1.8,0.3,7.6-0.5,11.2c-0.3,1.5-0.8,3.7-2.2,6c-2.8,4.4-5.4,6.8-10.9,9c-2.6,1-6.6,1.2-8.1,1.6L193.1,138.5z"/>

              <path className="path" d="M203.2,0c6.8,1.4,15.4,3.3,25.3,6.2c11.9,3.4,20.6,6.7,27.7,9.3c18.5,7,32.6,13.6,39,16.7c21.3,10.3,38.1,20.4,49.5,27.7c8.9,5.7,16.1,10.8,21.5,14.7c0.4,2.2,0.7,4.6,1,7c0.6,5.5,0.8,10.6,0.7,15.2c-6.6-4.5-12.3-8.1-16.5-10.7c-7.9-4.9-12-7.4-17.3-10c-6.8-3.3-12.1-5.1-15.3-6.2c-6.7-2.3-10.1-3.4-15.2-3.8c-4-0.3-8.1-0.7-13.2,1c-6,2.1-9.6,5.8-11.2,7.5c-1.8,1.9-5.3,6.2-7,12.8c-2.1,8.4,0.1,15.2,1.2,18.3c2,5.8,4.9,9.4,8.3,13.7c4.9,6.1,9.6,9.8,15.8,14.7c5.2,4.1,9.3,6.8,13,9.2c12.5,8.2,20.8,11.8,23.2,12.8c1.9,0.8,3.4,1.4,4.5,1.8"/>

              <path className="path" d="M80.2,15.2c-3-0.3-7.3-0.5-12.5,0c-5.4,0.5-11.8,1.2-18.5,5.2c-3.5,2.1-8.5,5-11,11.2c-2.4,5.9-1.2,11.4-0.7,13.5c1.5,6.3,5.1,10.1,6.2,11.2c5.5,5.5,12.1,6.6,14.7,6.9c4.1,0.4,4.6-0.6,13.8-2.2c7.1-1.2,12.4-2.2,19.1-1.8c3.3,0.2,9.3,0.6,16.3,3.7c4.3,1.9,10.1,4.4,14.3,10.5c3.6,5.1,4.3,10.2,4.8,13.8c0.6,3.9,1.2,8.3-0.8,13.2c-1.5,3.6-3.8,5.8-5,7c-4.3,4.1-7.6,4.3-12.5,7c-6.9,3.8-10.8,9.4-12,11.2c-6.5,9.4-6.4,19.5-6.3,22.3c0.4,11.3,5.8,18.8,7.7,21.3c2.7,3.6,6.1,8.3,12.5,10.5c5.7,1.9,10.7,0.9,13.5,0.3c6-1.2,9.9-4,14.5-7.1c4.9-3.4,9.1-6.3,12.5-11.9c1.2-2,3.8-6.4,4.3-12.3c0.2-2.3-0.1-2.9-2-16c-0.9-6.3-1.1-7.6-1-9.7c0.2-6,2-10.3,2.3-11.2c1.2-3,3.1-7.4,7.5-10.3c1.1-0.7,2.8-1.7,11.5-3.2c8.1-1.4,8.5-0.9,11.7-1.7c0.7-0.2,14.2-3.3,20.2-15c1.9-3.7,2.4-6.8,3.2-12.8c1.9-13.2-0.2-23.2-0.9-25.9c-0.5-1.9-1.9-7.6-5.1-14.1c-7.2-14.6-18.3-23.6-25.7-28.5C144.6,0.2,112.4,0.1,80.1,0L80.2,15.2z"/>

              <path className="path" d="M71.7,82.1c0,6.4-5.4,11.6-12,11.6c-6.6,0-12-5.2-12-11.6s5.4-11.6,12-11.6C66.3,70.5,71.7,75.7,71.7,82.1z"/>

              <path className="path" d="M32.2,16.6c0,8.7-7.2,15.7-16.1,15.7S0,25.3,0,16.6S7.2,0.9,16.1,0.9S32.2,8,32.2,16.6z"/>
              
              <path className="path" d="M435.2,334.4c0,13.8-11.4,25.1-25.5,25.1s-25.5-11.2-25.5-25.1s11.4-25.1,25.5-25.1S435.2,320.6,435.2,334.4z" /> 
          </Anime>
        </svg>

        <style jsx>{`
          .path {
            fill: none;
            stroke: url(#MyGradient);
            stroke-width: 15;
            stroke-linecap: round;
            stroke-miterlimit: 10;
          }
          p {
            color: red;
          }
        `}</style>
      </span>
    )
  }
}